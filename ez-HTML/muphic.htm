<!DOCTYPE HTML>
<html>
<head>
	<meta charset=Shift_JIS">
	<title>muphic_背景</title>
</head>
<body>
	<canvas id="canvas1" width="1300" height="650" style="border:1px solid #CCC;">
	</canvas>
	
	<audio id="piano_1" preload="auto">
	<source src="se_maoudamashii_instruments_piano1_1do.mp3" type="audio/mp3">
	</audio>
	<audio id="piano_2" preload="auto">
	<source src="se_maoudamashii_instruments_piano1_2re.mp3" type="audio/mp3">
	</audio>
	<audio id="piano_3" preload="auto">
	<source src="se_maoudamashii_instruments_piano1_3mi.mp3" type="audio/mp3">
	</audio>
	<audio id="piano_4" preload="auto">
	<source src="se_maoudamashii_instruments_piano1_4fa.mp3" type="audio/mp3">
	</audio>
	<audio id="piano_5" preload="auto">
	<source src="se_maoudamashii_instruments_piano1_5so.mp3" type="audio/mp3">
	</audio>
	<audio id="piano_6" preload="auto">
	<source src="se_maoudamashii_instruments_piano1_6ra.mp3" type="audio/mp3">
	</audio>
	<audio id="piano_7" preload="auto">
	<source src="se_maoudamashii_instruments_piano1_7si.mp3" type="audio/mp3">
	</audio>
	<audio id="piano_8" preload="auto">
	<source src="se_maoudamashii_instruments_piano1_8do.mp3" type="audio/mp3">
	</audio>	
		<script type="text/javascript">
			var canvas =document.getElementById("canvas1");
			var context = canvas.getContext("2d");		
			var cW = 1300;
			var cH = 650;
			var mouseX;
			var mouseY;
			
			window.onload = function(){
				draw()
				draw1()
				draw2()
			}	
					
			function draw(){
				context.strokeStyle = "black";
				context.fillStyle = "white";	
				context.beginPath();
				context.moveTo(200,150);
				context.lineTo(200,650);
				context.lineTo(1300,650);
				context.lineTo(1300,150);
				context.closePath();
				context.fill();
				context.stroke();
				
				context.beginPath();
				for(var i=1;i<=10;i++){	
					var n = 50*i;
					context.moveTo(200,150+n);
					context.lineTo(1300,150+n);
				}
				context.stroke();
				
				context.beginPath();
				for(var i=1;i<=16;i++){	
					var n = 68.75*i;
					context.moveTo(200+n,150);
					context.lineTo(200+n,650);
				}
				context.stroke();
			}	

			
			function draw1(){
				
//				canvas.onmousemove = mouseMoveListner;
//				
//				function mouseMoveListner(e){
//					context.clearRect(0,0,cW,cH);
//					adjustXY(e);
//					context.globalAlpha = 1;
//					context.fillstyle = "#666666";
//					context.fillText("X座標："+ mouseX,5,12);		
//					context.fillText("Y座標："+ mouseY,5,24);
//					//context.strokeRect(50,50,100,80);
//					draw();
//				}	
				
				canvas.onmousedown = mouseDownListner;
				
				function mouseDownListner(e){
					context.clearRect(0,0,cW,cH);
					adjustXY(e);
					context.globalAlpha = 1;
					context.fillStyle = "#666666";
					context.fillText("X座標：" + mouseX, 5, 12);
					context.fillText("Y座標：" + mouseY, 5, 24);
					context.fillText("イベント：マウスダウン", 5, 36);
					//context.strokeRect(50,50,100,80);
					draw();
					draw2();
					check();
				}
				
				function check(){
					if(mouseX>=200 && mouseX<=1300){
						if(mouseY>=600 && mouseY<650){
							output(1);
						}
						else if(mouseY>=550 && mouseY<600){
							output(2);
						}
						else if(mouseY>=500 && mouseY<550){
							output(3);
						}
						else if(mouseY>=450 && mouseY<500){
							output(4);
						}
						else if(mouseY>=400 && mouseY<450){
							output(5);
						}
						else if(mouseY>=350 && mouseY<400){
							output(6);
						}
						else if(mouseY>=300 && mouseY<350){
							output(7);
						}
						else if(mouseY>=250 && mouseY<300){
							output(8);
						}
						else if(mouseY>=200 && mouseY<250){
							output(9);
						}
						else if(mouseY>=150 && mouseY<200){
							output(10);
						}
					}
				}
				
				function output(e){
					if(e>=9){
						alert("音源ない(´・ω・｀)");
						draw2();
					}
					else
					document.getElementById("piano_"+e).play();
				}
							
				function adjustXY(e){
					var rect = e.target.getBoundingClientRect();
					mouseX = e.clientX - rect.left;
					mouseY = e.clientY - rect.top;
				}
			}
			
			function draw2(){
				var picture = new Image();
				picture.onload = function(){context.drawImage(picture,50,50);};
				picture.src = "000372.gif";
				var picture2 = new Image();
				picture2.onload = function(){context.drawImage(picture2,50,150);};
				picture2.src = "000574.gif";
				var picture3 = new Image();
				picture3.onload = function(){context.drawImage(picture3,50,250);};
				picture3.src = "gomibako.jpg";
			}		
		</script>
	</body>
</html>